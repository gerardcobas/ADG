<?php

namespace ADG\PrincipalBundle\Entity;

use Symfony\Component\Security\Core\User\UserInterface;
use Doctrine\ORM\Mapping as ORM;

/**
 * User
 *
 * @ORM\Table(name="User")
 * @ORM\Entity(repositoryClass="Adg\PrincipalBundle\Entity\UserRepository")
 */
class User implements UserInterface {
	
	public function __construct() {
		$this->fecha_alta = new \DateTime();
	}
	
	public function __toString() {
		return $this->getNombre() . ' ' . $this->getApellidos();
	}
	
	function equals(\Symfony\Component\Security\Core\User\UserInterface $usuario) {
		return $this->getEmail() == $usuario->getEmail();
	}
	
	function eraseCredentials() {
	}
	
	function getRoles() {
		return array('ROLE_USUARIO');
	}
	
	function getUsername() {
		return $this->getEmail();
	}
	
	
    /**
     * @var integer
     *
     * @ORM\Column(name="id", type="integer", nullable=false)
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="IDENTITY")
     */
    private $id;

    /**
     * @var string
     *
     * @ORM\Column(name="nombre", type="string", length=100, nullable=false)
     */
    private $nombre;

    /**
     * @var string
     *
     * @ORM\Column(name="apellidos", type="string", length=255, nullable=false)
     */
    private $apellidos;

    /**
     * @var string
     *
     * @ORM\Column(name="email", type="string", length=255, nullable=false)
     */
    private $email;

    /**
     * @var string
     *
     * @ORM\Column(name="password", type="string", length=255, nullable=false)
     */
    private $password;

    /**
     * @var string
     *
     * @ORM\Column(name="salt", type="string", length=255, nullable=false)
     */
    private $salt;

    /**
     * @var boolean
     *
     * @ORM\Column(name="permite_email", type="boolean", nullable=false)
     */
    private $permiteEmail;

    /**
     * @var \DateTime
     *
     * @ORM\Column(name="fecha_alta", type="datetime", nullable=false)
     */
    private $fechaAlta;

    public function getPassword() {
    	return $this->password;
    }
    

    public function getSalt() {
    	return $this->salt;
    }
    
}
