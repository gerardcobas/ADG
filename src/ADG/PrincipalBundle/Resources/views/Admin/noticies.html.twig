{% extends '::base.html.twig' %}

{% block stylesheets %}

   		<link href="{{ asset('bundles/adg/css/dataTables.bootstrap.css') }}" rel="stylesheet"> 
{% endblock %}

{% block javascripts %} 
	
    <script>   
	$(document).ready(function() {
		$('#noticies_table').dataTable({
                "sDom": "<'col-xs-4'l> <'col-xs-offset-1'f> rt <'col-xs-4'i><'col-xs-offset-1'p>",
                "language": {
        			"sLengthMenu": "_MENU_ entrades per pàgina",
        			"sZeroRecords": "No s'ha trobat res",
        			"sInfo": "Trobades _TOTAL_ entrades",
        			"sInfoEmpty": "0 entrades trobades",
        			"sInfoFiltered": "(filtrades desde _MAX_ entrades totals)",
        			"oPaginate": {
        		        "sNext": "Següent",
        		        "sPrevious": "Anterior"
        		      },
        			"sSearch": "Cerca general: "
                }
        }
		);
	} );
		</script>
    </script>
     <script src="{{ asset('bundles/ADG/js/jquery.dataTables.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/ADG/js/dataTables.bootstrap.js') }}" type="text/javascript"></script>
   
{% endblock %}

{% block title %}Noticies{% endblock %}

{% block body %}
	<div class="page-header"><h1>Notícies</h1></div>

	{# Cerca #}
<div class="row" style="margin-left:0px">	
	<div class="col-xs-6 col-sm-8 well">
    	<h4>Cerca</h4> 
		<form class="form">
            <div class="form-inline">
                <div class="form-group"> 
		        	<select class="form-control" name="param">
		                <option value = "titol">Títol</option>
		                <option value = "contingut">Contingut</option>
		            </select>
		        </div>
		        <div class="form-group"> 
		            <input type="text" class="form-control search-query" name="search" value="{{ search }}">
		       </div>
		       <div class="form-group"> 
		            <button type="submit" class="btn btn-primary"><i class="icon-search"></i>&nbsp;Buscar</button>
		        </div>
            </div>
		</form>    	
	</div>
</div>
<div class="row">
	{# Continguts #}
	<div class="col-lg-12 col-md-12 col-sm-12">
	
		{# Taula #}
		<table class="table table-striped table-bordered" id="noticies_table">
        <thead>
            <tr>
                <th class="centered-text" id="idHeader" title="Tooltip!">Id</th>
                <th class="centered-text">Data</th>
                <th class="centered-text">Títol</th>
                <th class="centered-text">Contingut</th>
                {% if is_granted('ROLE_ADMIN') %}
			    	<th class="centered-text">Operacions</th>            
           	   	{% endif %}
            </tr>
        </thead>
            <tbody>
                {% for noticia in noticies %}
                    <tr>
                        <td>{{ noticia.id }}</td>
                        <td style="min-width: 100px">{{ noticia.data|date('d-m-Y') }}</td>
                        <td>{{ noticia.titol }}</td>
                        <td>{{ noticia.contingut }}</td>
                        {% if is_granted('ROLE_ADMIN') %}
                        	<td>
                        		<a class="btn btn-xs btn-primary" type="button"><i class="icon-pencil"></i></a>
                        		<a class="btn btn-xs btn-danger" type="button"><i class="icon-remove"></i></a>
                        	</td>
                        {% endif %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>

	</div>
</div>
{% endblock %}



