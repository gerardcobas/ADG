{% extends '::base.html.twig' %}

{% block stylesheets %}

   		<link href="{{ asset('bundles/adg/css/dataTables.bootstrap.css') }}" rel="stylesheet"> 
{% endblock %}

{% block javascripts %} 
	
    <script>   
	$(document).ready(function() {
		$('#noticies_table').dataTable({
                "sDom": "<'col-xs-4'l> <'col-xs-offset-1'f> rt <'col-xs-4'i><'col-xs-offset-1'p>",
                "language": {
        			"sLengthMenu": "_MENU_ entrades per pàgina",
        			"sZeroRecords": "No s'ha trobat res",
        			"sInfo": "Trobades _TOTAL_ entrades",
        			"sInfoEmpty": "0 entrades trobades",
        			"sInfoFiltered": "(filtrades desde _MAX_ entrades totals)",
        			"oPaginate": {
        		        "sNext": "Següent",
        		        "sPrevious": "Anterior"
        		      },
        			"sSearch": "Cerca general: "
                }
        }).makeEditable({

		});
	} );
		</script>
    </script>
    <script src="{{ asset('bundles/ADG/js/jquery.dataTables.js') }}" type="text/javascript"></script>
    <script src="{{ asset('bundles/ADG/js/dataTables.bootstrap.js') }}" type="text/javascript"></script>
   	<script src="{{ asset('bundles/ADG/js/jquery.dataTables.editable.js') }}" type="text/javascript"></script>
{% endblock %}

{% block title %}Noticies{% endblock %}

{% block body %}
	<div class="page-header"><h1>Notícies</h1></div>
	
{# Cerca #}
<div class="row" style="margin-left:0px">	
	<div class="col-xs-8 col-sm-10 col-md-8 col-lg-6 well">
    	<h4>Cerca per atributs</h4> 
		<form class="form">
            <div class="form-inline">
                <div class="form-group"> 
		        	<select class="form-control" name="param">
		                <option value = "titol">Títol</option>
		                <option value = "contingut">Contingut</option>
		            </select>
		        </div>
		        <div class="form-group"> 
		            <input type="text" class="form-control search-query" name="search" value="{{ search }}">
		       </div>
		       <div class="form-group"> 
		            <button type="submit" class="btn btn-primary"><i class="icon-search"></i>&nbsp;Buscar</button>
		        </div>
		        <div class="form-group"> 
		            <a data-toggle="modal" href="#crearNou" class="btn btn-success"><i class="icon-cog"></i>&nbsp;Afegir nou</a>
		        </div>
            </div>
		</form>    	
	</div>
</div>



{# Taula #}
<div class="row">
	<div class="col-lg-12 col-md-12 col-sm-12 table-responsive">
		{# Taula #}
		<table class="table table-striped table-bordered table-hover" id="noticies_table">
        <thead>
            <tr>
                <th class="centered-text" id="idHeader" title="Tooltip!">Id</th>
                <th class="centered-text">Data</th>
                <th class="centered-text">Títol</th>
                <th class="centered-text">Contingut</th>
                {% if is_granted('ROLE_ADMIN') %}
			    	<th class="centered-text">Operacions</th>            
           	   	{% endif %}
            </tr>
        </thead>
            <tbody>
                {% for noticia in noticies %}
                    <tr>
                        <td>{{ noticia.id }}</td>
                        <td style="min-width: 100px">{{ noticia.data|date('d-m-Y') }}</td>
                        <td>{{ noticia.titol }}</td>
                        <td>{{ noticia.contingut }}</td>
                        {% if is_granted('ROLE_ADMIN') %}
                        	<td>
                        		<a class="btn btn-xs btn-primary" type="button"><i class="icon-pencil"></i></a>
                        		<a class="btn btn-xs btn-danger" type="button"><i class="icon-remove"></i></a>
                        	</td>
                        {% endif %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>

	</div>
</div>

{# Modals #}
<div class="modal" id="crearNou" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title">Modal title</h4>
        </div>
        <div class="modal-body">
          blabla
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Tancar</button>
          <button type="button" class="btn btn-success">Save changes</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

{% endblock %}


